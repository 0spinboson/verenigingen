<!-- Email Template: Appeal Acknowledgment -->
<!-- File: verenigingen/verenigingen/email_template/appeal_acknowledgment.html -->

<div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
    <div style="background-color: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
        <h2 style="color: #2c3e50; margin: 0;">Appeal Acknowledgment</h2>
        <p style="color: #6c757d; margin: 5px 0 0 0;">{{ frappe.utils.format_date(frappe.utils.today(), "dd MMMM yyyy") }}</p>
    </div>
    
    <div style="padding: 20px;">
        <p>Dear {{ doc.appellant_name }},</p>
        
        <p>We acknowledge receipt of your appeal regarding the termination of member <strong>{{ doc.member_name }}</strong>.</p>
        
        <div style="background-color: #e3f2fd; padding: 15px; border-radius: 5px; margin: 20px 0;">
            <h3 style="margin-top: 0; color: #1976d2;">Appeal Details</h3>
            <ul style="margin: 10px 0;">
                <li><strong>Appeal Reference:</strong> {{ doc.appeal_reference }}</li>
                <li><strong>Appeal Date:</strong> {{ frappe.utils.format_date(doc.appeal_date, "dd MMMM yyyy") }}</li>
                <li><strong>Review Deadline:</strong> {{ frappe.utils.format_date(doc.review_deadline, "dd MMMM yyyy") }}</li>
                <li><strong>Grounds:</strong> {{ doc.appeal_grounds }}</li>
                <li><strong>Requested Remedy:</strong> {{ doc.requested_remedy }}</li>
            </ul>
        </div>
        
        <p>Your appeal will be reviewed according to our appeals process. The review process typically includes:</p>
        <ol>
            <li>Initial review and assignment to a qualified reviewer</li>
            <li>Examination of the original termination decision and documentation</li>
            <li>Review of your appeal statement and supporting evidence</li>
            <li>Decision within 45 days of filing</li>
        </ol>
        
        <p>You will be notified of any updates to your appeal and will receive the final decision in writing.</p>
        
        {% if doc.urgency_level == "High" or doc.urgency_level == "Urgent" %}
        <div style="background-color: #fff3cd; padding: 15px; border-radius: 5px; margin: 20px 0; border-left: 4px solid #ffc107;">
            <p style="margin: 0;"><strong>Priority Review:</strong> Your appeal has been marked as {{ doc.urgency_level }} priority and will receive expedited review.</p>
        </div>
        {% endif %}
        
        <p>If you have any questions about the appeals process, please contact our governance team and reference your appeal number <strong>{{ doc.appeal_reference }}</strong> in all communications.</p>
        
        <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid #e9ecef;">
            <p>Best regards,<br>
            <strong>Governance Team</strong><br>
            {{ frappe.get_single("Verenigingen Settings").organization_name or "Organization" }}</p>
        </div>
    </div>
</div>

<!-- Email Template: Appeal Decision Notification -->
<!-- File: verenigingen/verenigingen/email_template/appeal_decision_notification.html -->

<div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
    <div style="background-color: {% if doc.appeal_decision == 'Upheld' %}#d4edda{% elif doc.appeal_decision == 'Partially Upheld' %}#fff3cd{% else %}#f8d7da{% endif %}; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
        <h2 style="color: {% if doc.appeal_decision == 'Upheld' %}#155724{% elif doc.appeal_decision == 'Partially Upheld' %}#856404{% else %}#721c24{% endif %}; margin: 0;">Appeal Decision: {{ doc.appeal_decision }}</h2>
        <p style="color: #6c757d; margin: 5px 0 0 0;">{{ frappe.utils.format_date(doc.decision_date, "dd MMMM yyyy") }}</p>
    </div>
    
    <div style="padding: 20px;">
        <p>Dear {{ doc.appellant_name }},</p>
        
        <p>A decision has been made regarding your appeal <strong>{{ doc.appeal_reference }}</strong>:</p>
        
        <div style="background-color: #f8f9fa; padding: 20px; border-radius: 5px; margin: 20px 0; border-left: 4px solid {% if doc.appeal_decision == 'Upheld' %}#28a745{% elif doc.appeal_decision == 'Partially Upheld' %}#ffc107{% else %}#dc3545{% endif %};">
            <h3 style="margin-top: 0;">
                {% if doc.appeal_decision == "Upheld" %}
                ‚úÖ Appeal Upheld
                {% elif doc.appeal_decision == "Partially Upheld" %}
                ‚öñÔ∏è Appeal Partially Upheld
                {% else %}
                ‚ùå Appeal Rejected
                {% endif %}
            </h3>
            
            {% if doc.appeal_decision == "Upheld" %}
            <p><strong>Your appeal has been upheld.</strong> The termination decision will be reversed and appropriate corrective actions will be taken.</p>
            {% elif doc.appeal_decision == "Partially Upheld" %}
            <p><strong>Your appeal has been partially upheld.</strong> Some aspects of your appeal have merit and modifications will be made to the original decision.</p>
            {% else %}
            <p><strong>Your appeal has been rejected.</strong> After careful review, the original termination decision has been determined to be appropriate and will stand.</p>
            {% endif %}
        </div>
        
        <div style="background-color: #e3f2fd; padding: 15px; border-radius: 5px; margin: 20px 0;">
            <h3 style="margin-top: 0; color: #1976d2;">Appeal Summary</h3>
            <ul style="margin: 10px 0;">
                <li><strong>Member:</strong> {{ doc.member_name }}</li>
                <li><strong>Appeal Reference:</strong> {{ doc.appeal_reference }}</li>
                <li><strong>Decision:</strong> {{ doc.appeal_decision }}</li>
                <li><strong>Decision Date:</strong> {{ frappe.utils.format_date(doc.decision_date, "dd MMMM yyyy") }}</li>
                {% if doc.assigned_reviewer %}
                <li><strong>Reviewed By:</strong> {{ frappe.get_value("User", doc.assigned_reviewer, "full_name") or doc.assigned_reviewer }}</li>
                {% endif %}
            </ul>
        </div>
        
        {% if doc.decision_rationale %}
        <div style="margin: 20px 0;">
            <h3>Decision Rationale</h3>
            <div style="background-color: #f8f9fa; padding: 15px; border-radius: 5px; border-left: 3px solid #6c757d;">
                {{ doc.decision_rationale | safe }}
            </div>
        </div>
        {% endif %}
        
        {% if doc.implementation_required %}
        <div style="background-color: #d1ecf1; padding: 15px; border-radius: 5px; margin: 20px 0; border-left: 4px solid #17a2b8;">
            <h4 style="margin-top: 0; color: #0c5460;">Implementation Required</h4>
            <p style="margin-bottom: 0;">The decision requires implementation of corrective actions. These will be processed and you will be notified when complete.</p>
        </div>
        {% endif %}
        
        {% if doc.appeal_decision == "Rejected" %}
        <div style="background-color: #f8d7da; padding: 15px; border-radius: 5px; margin: 20px 0; border-left: 4px solid #dc3545;">
            <h4 style="margin-top: 0; color: #721c24;">Next Steps</h4>
            <p>If you believe there are exceptional circumstances or new evidence that was not considered, you may contact our governance team. However, please note that appeal decisions are generally final.</p>
        </div>
        {% endif %}
        
        <p>If you have questions about this decision or the implementation process, please contact our governance team.</p>
        
        <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid #e9ecef;">
            <p>Best regards,<br>
            <strong>Governance Team</strong><br>
            {{ frappe.get_single("Verenigingen Settings").organization_name or "Organization" }}</p>
        </div>
    </div>
</div>

<!-- Email Template: Termination Approval Request -->
<!-- File: verenigingen/verenigingen/email_template/termination_approval_request.html -->

<div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
    <div style="background-color: #fff3cd; padding: 20px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #ffc107;">
        <h2 style="color: #856404; margin: 0;">üîç Termination Approval Required</h2>
        <p style="color: #6c757d; margin: 5px 0 0 0;">{{ frappe.utils.format_date(frappe.utils.today(), "dd MMMM yyyy") }}</p>
    </div>
    
    <div style="padding: 20px;">
        <p>Dear {{ frappe.get_value("User", doc.secondary_approver, "full_name") or doc.secondary_approver }},</p>
        
        <p>A disciplinary termination request requires your approval:</p>
        
        <div style="background-color: #f8d7da; padding: 15px; border-radius: 5px; margin: 20px 0; border-left: 4px solid #dc3545;">
            <h3 style="margin-top: 0; color: #721c24;">Disciplinary Action</h3>
            <ul style="margin: 10px 0;">
                <li><strong>Member:</strong> {{ doc.member_name }}</li>
                <li><strong>Termination Type:</strong> {{ doc.termination_type }}</li>
                <li><strong>Requested by:</strong> {{ frappe.get_value("User", doc.requested_by, "full_name") or doc.requested_by }}</li>
                <li><strong>Request Date:</strong> {{ frappe.utils.format_date(doc.request_date, "dd MMMM yyyy") }}</li>
            </ul>
        </div>
        
        <div style="margin: 20px 0;">
            <h3>Termination Reason</h3>
            <div style="background-color: #f8f9fa; padding: 15px; border-radius: 5px;">
                {{ doc.termination_reason or 'Not specified' }}
            </div>
        </div>
        
        {% if doc.disciplinary_documentation %}
        <div style="margin: 20px 0;">
            <h3>Supporting Documentation</h3>
            <div style="background-color: #f8f9fa; padding: 15px; border-radius: 5px; border-left: 3px solid #6c757d;">
                {{ doc.disciplinary_documentation | safe }}
            </div>
        </div>
        {% endif %}
        
        <div style="background-color: #e3f2fd; padding: 15px; border-radius: 5px; margin: 20px 0;">
            <h3 style="margin-top: 0; color: #1976d2;">Required Actions</h3>
            <p>As a secondary approver, please review this request and:</p>
            <ol>
                <li>Examine the termination reason and supporting documentation</li>
                <li>Verify that proper procedures have been followed</li>
                <li>Approve or reject the termination request</li>
                <li>Provide rationale for your decision</li>
            </ol>
        </div>
        
        <div style="text-align: center; margin: 30px 0;">
            <a href="{{ frappe.utils.get_url() }}/app/membership-termination-request/{{ doc.name }}" 
               style="background-color: #007bff; color: white; padding: 12px 30px; text-decoration: none; border-radius: 5px; font-weight: bold;">
                Review Termination Request
            </a>
        </div>
        
        <div style="background-color: #d4edda; padding: 15px; border-radius: 5px; margin: 20px 0; border-left: 4px solid #28a745;">
            <p style="margin: 0;"><strong>Important:</strong> Disciplinary terminations require secondary approval to ensure due process and governance compliance.</p>
        </div>
        
        <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid #e9ecef;">
            <p>Best regards,<br>
            <strong>Governance System</strong><br>
            {{ frappe.get_single("Verenigingen Settings").organization_name or "Organization" }}</p>
        </div>
    </div>
</div>
